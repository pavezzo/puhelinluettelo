{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","newCheck","onChange","handleNewCheck","PersonForm","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Persons","persons","filter","e","name","toLowerCase","includes","map","key","number","id","onClick","handleDelete","baseUrl","services_persons","axios","get","then","res","data","newObject","post","delete","concat","put","date","Notification","message","style","color","background","width","fontSize","borderStyle","padding","ErrorNotification","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewCheck","_useState9","_useState10","notification","setNotification","_useState11","_useState12","error","setError","useEffect","personService","initialPersons","components_Notification","components_ErrorNotification","components_Filter","event","target","components_PersonForm","preventDefault","newPersonObj","some","window","confirm","person","find","newPerson","newPersons","catch","err","returnedPerson","setTimeout","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b0250672.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>rajaa näytettäviä <input value={props.newCheck} onChange={props.handleNewCheck}/></div>\n    )\n}\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n            <div>nimi: <input value={props.newName} onChange={props.handleNameChange}/></div>\n            <div>numero: <input value={props.newNumber} onChange={props.handleNumberChange}/></div>\n            <div>\n                <button type=\"submit\">lisää</button>\n            </div>\n        </form>\n    )\n    \n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = (props) => {\n    return props.persons.filter(e => \n        e.name.toLowerCase().includes(props.newCheck.toLowerCase())).map(e => \n            <p key={e.name}>{e.name} {e.number} <button id={e.id} onClick={props.handleDelete}>poista</button></p>)\n}\n\nexport default Persons","import axios from 'axios'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n    const req = axios.get(baseUrl)\n    return req.then(res => {\n        return res.data\n    })\n}\n\nconst create = (newObject) => {\n    const req = axios.post(baseUrl, newObject)\n    return req.then(res => {\n        return res.data\n    })\n}\n\nconst deletePerson = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst updatePerson = (newObject) => {\n    const req = axios.put(`${baseUrl}/${newObject.id}`, newObject)\n    return req.then(res => res.date)\n}\n\nexport default {\n    getAll: getAll,\n    create: create,\n    deletePerson: deletePerson,\n    updatePerson: updatePerson\n}","import React from 'react'\n\nconst Notification = (props) => {\n    const style = {\n        color: 'green',\n        background: 'lightgrey',\n        width: '100%',\n        fontSize: 30,\n        borderStyle: 'solid',\n        padding: 20\n    }\n\n    if (props.message === null) {\n        return null\n    }\n\n    return (\n        <div style={style}>{props.message}</div>\n    )\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorNotification = (props) => {\n    const style = {\n        color: 'red',\n        background: 'lightgrey',\n        width: '100%',\n        fontSize: 30,\n        borderStyle: 'solid',\n        padding: 20\n    }\n\n    if (props.message === null) {\n        return null\n    }\n\n    return (\n        <div style={style}>{props.style}</div>\n    )\n}\n\nexport default ErrorNotification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport ErrorNotification from './components/ErrorNotification'\n\n\nconst App = () => {\n    const [ persons, setPersons] = useState([]) \n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ newCheck, setNewCheck] = useState('')\n    const [ notification, setNotification ] = useState(null)\n    const [ error, setError ] = useState(null)\n\n    useEffect(() => {\n        personService\n            .getAll()\n                .then(initialPersons => {\n                    setPersons(initialPersons)\n                })\n    }, [])\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleNewCheck = (event) => {\n        setNewCheck(event.target.value)\n    }\n\n    const handleDelete = (event) => {\n        event.preventDefault()\n        const id = event.target.id\n        personService\n            .deletePerson(id)\n                .then(() => {\n                    personService\n                        .getAll()\n                            .then(newPersons => {\n                                setPersons(newPersons)\n                                setNotification('Henkilön poisto onnistui')\n                            })\n                }).catch(err => {\n                    setError('Henkilön poisto ei onnistunut')\n                })\n\n        setTimeout(() => {\n            setNotification(null)\n            setError(null)\n        }, 5000);\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n\n        const newPersonObj = {\n            name: newName,\n            number: newNumber\n        }\n\n        if (persons.some(e => e.name === newName)) {\n            if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) { \n                const person = persons.find(e => e.name === newName)\n                person.number = newNumber\n                personService\n                    .updatePerson(person)\n                        .then(newPerson => {\n                            personService\n                                .getAll()\n                                    .then(newPersons => {\n                                        setPersons(newPersons)\n                                        setNotification(`${person.name}n numero vaihdettu`)\n                                    })\n                        }).catch(err => {\n                            setError('Numeron vaihto epäonnistui')\n                        })\n            }\n        } else {\n            personService\n                .create(newPersonObj)\n                    .then(returnedPerson => {\n                        setPersons(persons.concat(returnedPerson))\n                        setNotification(`Lisättiin ${newPersonObj.name}`)\n                    }).catch(err => {\n                        setError('Henkilön luonti epäonnistui')\n                    })\n        }\n              \n        setNewName('')\n        setNewNumber('')\n\n        setTimeout(() => {\n            setNotification(null)\n            setError(null)\n        }, 5000);\n    } \n\n    return (\n        <div>\n        <Notification message={notification} />\n        <ErrorNotification message={error} />\n        <h2>Puhelinluettelo</h2>\n        <Filter newCheck={newCheck} handleNewCheck={handleNewCheck}/>\n        <br></br>\n        <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n        <h2>Numerot</h2>\n        <Persons persons={persons} newCheck={newCheck} handleDelete={handleDelete}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}